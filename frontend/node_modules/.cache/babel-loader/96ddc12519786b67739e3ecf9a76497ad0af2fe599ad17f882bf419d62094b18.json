{"ast":null,"code":"import _slicedToArray from\"/Users/ilyanovik/Documents/Projects/movies-explorer-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import{DESKTOP_BREAKPOINT,DESKTOP_MOVIES_ON_PAGE,MOBILE_BREAKPOINT,MOBILE_MOVIES_ON_PAGE,SMALL_SCREEN_MOVIES_ON_PAGE,TABLET_BREAKPOINT,TABLET_MOVIES_ON_PAGE}from'../../utils/constants';import MoviesCard from'../MoviesCard/MoviesCard';import Preloader from'../Preloader/Preloader';import'./MoviesCardList.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MoviesCardList(_ref){var cards=_ref.cards,onSaveFilm=_ref.onSaveFilm,onDeleteFilm=_ref.onDeleteFilm,savedMovies=_ref.savedMovies,isSavedFilms=_ref.isSavedFilms,isLoading=_ref.isLoading,isNotFound=_ref.isNotFound;var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),numberOfVisibleMovies=_React$useState2[0],setNumberOfVisibleMovies=_React$useState2[1];var TIMEOUT_DELAY=500;function numberOfMovies(){var display=window.innerWidth;if(display>DESKTOP_BREAKPOINT){setNumberOfVisibleMovies(DESKTOP_MOVIES_ON_PAGE);}else if(display>TABLET_BREAKPOINT){setNumberOfVisibleMovies(TABLET_MOVIES_ON_PAGE);}else if(display>MOBILE_BREAKPOINT){setNumberOfVisibleMovies(MOBILE_MOVIES_ON_PAGE);}else if(display<MOBILE_BREAKPOINT){setNumberOfVisibleMovies(SMALL_SCREEN_MOVIES_ON_PAGE);}}function addMoreMovies(){var display=window.innerWidth;if(display>DESKTOP_BREAKPOINT){setNumberOfVisibleMovies(numberOfVisibleMovies+DESKTOP_MOVIES_ON_PAGE);}else if(display>TABLET_BREAKPOINT){setNumberOfVisibleMovies(numberOfVisibleMovies+TABLET_MOVIES_ON_PAGE);}else if(display>MOBILE_BREAKPOINT){setNumberOfVisibleMovies(numberOfVisibleMovies+MOBILE_MOVIES_ON_PAGE);}else if(display<MOBILE_BREAKPOINT){setNumberOfVisibleMovies(numberOfVisibleMovies+SMALL_SCREEN_MOVIES_ON_PAGE);}}useEffect(function(){numberOfMovies();},[]);useEffect(function(){setTimeout(function(){window.addEventListener('resize',numberOfMovies);},TIMEOUT_DELAY);return function(){return window.removeEventListener('resize',numberOfMovies);};});function getSavedMovieCard(savedMovies,card){return savedMovies.find(function(m){return m.movieId===String(card.id);});}return isLoading?/*#__PURE__*/_jsx(Preloader,{}):/*#__PURE__*/_jsxs(\"section\",{className:\"movies-card-list\",children:[isNotFound&&/*#__PURE__*/_jsx(\"p\",{className:\"movies-card-list__not-found\",children:\"Nothing found\"}),/*#__PURE__*/_jsx(\"div\",{className:\"movies-card-list__wrap\",children:cards.slice(0,numberOfVisibleMovies).map(function(card){return/*#__PURE__*/_jsx(MoviesCard,{card:card,cards:cards,isSavedFilms:isSavedFilms,onSaveFilm:onSaveFilm,onDeleteFilm:onDeleteFilm,isSaved:getSavedMovieCard(savedMovies,card),savedMovies:savedMovies},isSavedFilms?card._id:card.id);})}),cards.length>numberOfVisibleMovies&&/*#__PURE__*/_jsx(\"button\",{className:\"button movies-card-list__more-button\",onClick:addMoreMovies,children:\"More\"})]});}export default MoviesCardList;","map":{"version":3,"names":["React","useEffect","DESKTOP_BREAKPOINT","DESKTOP_MOVIES_ON_PAGE","MOBILE_BREAKPOINT","MOBILE_MOVIES_ON_PAGE","SMALL_SCREEN_MOVIES_ON_PAGE","TABLET_BREAKPOINT","TABLET_MOVIES_ON_PAGE","MoviesCard","Preloader","MoviesCardList","cards","onSaveFilm","onDeleteFilm","savedMovies","isSavedFilms","isLoading","isNotFound","useState","numberOfVisibleMovies","setNumberOfVisibleMovies","TIMEOUT_DELAY","numberOfMovies","display","window","innerWidth","addMoreMovies","setTimeout","addEventListener","removeEventListener","getSavedMovieCard","card","find","m","movieId","String","id","slice","map","_id","length"],"sources":["/Users/ilyanovik/Documents/Projects/movies-explorer-api-full/frontend/src/components/MoviesCardList/MoviesCardList.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { DESKTOP_BREAKPOINT, DESKTOP_MOVIES_ON_PAGE, MOBILE_BREAKPOINT, MOBILE_MOVIES_ON_PAGE, SMALL_SCREEN_MOVIES_ON_PAGE, TABLET_BREAKPOINT, TABLET_MOVIES_ON_PAGE } from '../../utils/constants';\nimport MoviesCard from '../MoviesCard/MoviesCard';\nimport Preloader from '../Preloader/Preloader';\nimport './MoviesCardList.scss';\n\nfunction MoviesCardList({\n  cards,\n  onSaveFilm,\n  onDeleteFilm,\n  savedMovies,\n  isSavedFilms,\n  isLoading,\n  isNotFound,\n}) {\n  const [numberOfVisibleMovies, setNumberOfVisibleMovies] = React.useState(0);\n  const TIMEOUT_DELAY = 500;\n  function numberOfMovies() {\n    const display = window.innerWidth;\n    if (display > DESKTOP_BREAKPOINT) {\n      setNumberOfVisibleMovies(DESKTOP_MOVIES_ON_PAGE);\n    } else if (display > TABLET_BREAKPOINT) {\n      setNumberOfVisibleMovies(TABLET_MOVIES_ON_PAGE);\n    } else if (display > MOBILE_BREAKPOINT) {\n      setNumberOfVisibleMovies(MOBILE_MOVIES_ON_PAGE);\n    } else if (display < MOBILE_BREAKPOINT) {\n      setNumberOfVisibleMovies(SMALL_SCREEN_MOVIES_ON_PAGE);\n    }\n  }\n\n  function addMoreMovies() {\n    const display = window.innerWidth;\n    if (display > DESKTOP_BREAKPOINT) {\n      setNumberOfVisibleMovies(numberOfVisibleMovies + DESKTOP_MOVIES_ON_PAGE);\n    } else if (display > TABLET_BREAKPOINT) {\n      setNumberOfVisibleMovies(numberOfVisibleMovies + TABLET_MOVIES_ON_PAGE);\n    } else if (display > MOBILE_BREAKPOINT) {\n      setNumberOfVisibleMovies(numberOfVisibleMovies + MOBILE_MOVIES_ON_PAGE);\n    } else if (display < MOBILE_BREAKPOINT) {\n      setNumberOfVisibleMovies(numberOfVisibleMovies + SMALL_SCREEN_MOVIES_ON_PAGE);\n    }\n  }\n\n  useEffect(() => {\n    numberOfMovies();\n  }, []);\n\n  useEffect(() => {\n    setTimeout(() => {\n      window.addEventListener('resize', numberOfMovies);\n    }, TIMEOUT_DELAY);\n    return () => window.removeEventListener('resize', numberOfMovies);\n  });\n\n  function getSavedMovieCard(savedMovies, card) {\n    return savedMovies.find((m) => m.movieId === String(card.id));\n  }\n\n  return isLoading ? (\n    <Preloader />\n  ) : (\n    <section className=\"movies-card-list\">\n      {isNotFound && <p className=\"movies-card-list__not-found\">Nothing found</p>}\n      <div className=\"movies-card-list__wrap\">\n        {cards.slice(0, numberOfVisibleMovies).map((card) => (\n          <MoviesCard\n            key={isSavedFilms ? card._id : card.id}\n            card={card}\n            cards={cards}\n            isSavedFilms={isSavedFilms}\n            onSaveFilm={onSaveFilm}\n            onDeleteFilm={onDeleteFilm}\n            isSaved={getSavedMovieCard(savedMovies, card)}\n            savedMovies={savedMovies}\n          />\n        ))}\n      </div>\n      {cards.length > numberOfVisibleMovies && (\n        <button className=\"button movies-card-list__more-button\" onClick={addMoreMovies}>\n          More\n        </button>\n      )}\n    </section>\n  );\n}\n\nexport default MoviesCardList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}