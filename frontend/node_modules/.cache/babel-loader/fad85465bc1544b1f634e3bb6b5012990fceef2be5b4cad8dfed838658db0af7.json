{"ast":null,"code":"import React from'react';import'./Login.scss';import{Link}from'react-router-dom';import logo from'../../images/logo.svg';import{useFormWithValidation}from'../../utils/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var isLoading=_ref.isLoading,onAuth=_ref.onAuth,isRequestErr=_ref.isRequestErr,setIsRequestErr=_ref.setIsRequestErr;var _useFormWithValidatio=useFormWithValidation(),values=_useFormWithValidatio.values,handleChange=_useFormWithValidatio.handleChange,errors=_useFormWithValidatio.errors,isValid=_useFormWithValidatio.isValid;function handleSubmit(e){e.preventDefault();setIsRequestErr(false);onAuth({email:values.email,password:values.password});}return/*#__PURE__*/_jsxs(\"section\",{className:\"login\",children:[/*#__PURE__*/_jsx(Link,{className:\"login__logo-link\",to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{className:\"login__logo\",src:logo,alt:\"Logo\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"login__title\",children:\"Good to see you!\"}),/*#__PURE__*/_jsx(\"form\",{className:\"login__form\",onSubmit:handleSubmit,noValidate:true,children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"login__form-fieldset\",disabled:isLoading,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login__form-item\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"login__form-label\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login__form-input\",type:\"email\",name:\"email\",onChange:handleChange,required:true,minLength:\"4\",maxLength:\"320\",pattern:\"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\",value:values.email||''}),/*#__PURE__*/_jsx(\"span\",{className:\"login__input-error\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__form-item\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"login__form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login__form-input\",onChange:handleChange,type:\"password\",name:\"password\",required:true,minLength:\"2\",maxLength:\"320\",value:values.password||''}),/*#__PURE__*/_jsx(\"span\",{className:\"login__input-error\",children:errors.password})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login__request-error\",children:isRequestErr?'Request error':''}),/*#__PURE__*/_jsx(\"button\",{className:\"button login__form-button \".concat(!isValid||isLoading&&'login__form-button_disabled'),disabled:!isValid,children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"login__text\",children:[\"Not registered yet?\",' ',/*#__PURE__*/_jsx(Link,{className:\"link login__registration-link\",to:\"/signup\",children:\"Registration\"})]})]})})]});}export default Login;","map":{"version":3,"names":["React","Link","logo","useFormWithValidation","Login","isLoading","onAuth","isRequestErr","setIsRequestErr","values","handleChange","errors","isValid","handleSubmit","e","preventDefault","email","password"],"sources":["/Users/ilyanovik/Documents/Projects/movies-explorer-api-full/frontend/src/components/Login/Login.js"],"sourcesContent":["import React from 'react';\nimport './Login.scss';\nimport { Link } from 'react-router-dom';\nimport logo from '../../images/logo.svg';\nimport { useFormWithValidation } from '../../utils/utils';\n\nfunction Login({ isLoading, onAuth, isRequestErr, setIsRequestErr }) {\n  const { values, handleChange, errors, isValid } = useFormWithValidation();\n  function handleSubmit(e) {\n    e.preventDefault();\n    setIsRequestErr(false);\n    onAuth({\n      email: values.email,\n      password: values.password,\n    });\n  }\n\n  return (\n    <section className=\"login\">\n      <Link className=\"login__logo-link\" to=\"/\">\n        <img className=\"login__logo\" src={logo} alt=\"Logo\" />\n      </Link>\n      <h2 className=\"login__title\">Good to see you!</h2>\n      <form className=\"login__form\" onSubmit={handleSubmit} noValidate>\n        <fieldset className=\"login__form-fieldset\" disabled={isLoading}>\n          <div className=\"login__form-item\">\n            <label className=\"login__form-label\">E-mail</label>\n            <input\n              className=\"login__form-input\"\n              type=\"email\"\n              name=\"email\"\n              onChange={handleChange}\n              required\n              minLength=\"4\"\n              maxLength=\"320\"\n              pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\"\n              value={values.email || ''}\n            />\n            <span className=\"login__input-error\">{errors.email}</span>\n          </div>\n          <div className=\"login__form-item\">\n            <label className=\"login__form-label\">Password</label>\n            <input\n              className=\"login__form-input\"\n              onChange={handleChange}\n              type=\"password\"\n              name=\"password\"\n              required\n              minLength=\"2\"\n              maxLength=\"320\"\n              value={values.password || ''}\n            />\n            <span className=\"login__input-error\">{errors.password}</span>\n          </div>\n          <div className=\"login__request-error\">{isRequestErr ? 'Request error' : ''}</div>\n          <button\n            className={`button login__form-button ${!isValid || isLoading && 'login__form-button_disabled'}`}\n            disabled={!isValid}>\n            Login\n          </button>\n          <p className=\"login__text\">\n            Not registered yet?{' '}\n            <Link className=\"link login__registration-link\" to=\"/signup\">\n              Registration\n            </Link>\n          </p>\n        </fieldset>\n      </form>\n    </section>\n  );\n}\n\nexport default Login;\n"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAO,cAAc,CACrB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,KAAI,KAAM,uBAAuB,CACxC,OAASC,qBAAqB,KAAQ,mBAAmB,CAAC,wFAE1D,QAASC,MAAK,MAAuD,IAApDC,UAAS,MAATA,SAAS,CAAEC,MAAM,MAANA,MAAM,CAAEC,YAAY,MAAZA,YAAY,CAAEC,eAAe,MAAfA,eAAe,CAC/D,0BAAkDL,qBAAqB,EAAE,CAAjEM,MAAM,uBAANA,MAAM,CAAEC,YAAY,uBAAZA,YAAY,CAAEC,MAAM,uBAANA,MAAM,CAAEC,OAAO,uBAAPA,OAAO,CAC7C,QAASC,aAAY,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,EAAE,CAClBP,eAAe,CAAC,KAAK,CAAC,CACtBF,MAAM,CAAC,CACLU,KAAK,CAAEP,MAAM,CAACO,KAAK,CACnBC,QAAQ,CAAER,MAAM,CAACQ,QACnB,CAAC,CAAC,CACJ,CAEA,mBACE,iBAAS,SAAS,CAAC,OAAO,wBACxB,KAAC,IAAI,EAAC,SAAS,CAAC,kBAAkB,CAAC,EAAE,CAAC,GAAG,uBACvC,YAAK,SAAS,CAAC,aAAa,CAAC,GAAG,CAAEf,IAAK,CAAC,GAAG,CAAC,MAAM,EAAG,EAChD,cACP,WAAI,SAAS,CAAC,cAAc,UAAC,kBAAgB,EAAK,cAClD,aAAM,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAEW,YAAa,CAAC,UAAU,4BAC9D,kBAAU,SAAS,CAAC,sBAAsB,CAAC,QAAQ,CAAER,SAAU,wBAC7D,aAAK,SAAS,CAAC,kBAAkB,wBAC/B,cAAO,SAAS,CAAC,mBAAmB,UAAC,QAAM,EAAQ,cACnD,cACE,SAAS,CAAC,mBAAmB,CAC7B,IAAI,CAAC,OAAO,CACZ,IAAI,CAAC,OAAO,CACZ,QAAQ,CAAEK,YAAa,CACvB,QAAQ,MACR,SAAS,CAAC,GAAG,CACb,SAAS,CAAC,KAAK,CACf,OAAO,CAAC,0CAAyC,CACjD,KAAK,CAAED,MAAM,CAACO,KAAK,EAAI,EAAG,EAC1B,cACF,aAAM,SAAS,CAAC,oBAAoB,UAAEL,MAAM,CAACK,KAAK,EAAQ,GACtD,cACN,aAAK,SAAS,CAAC,kBAAkB,wBAC/B,cAAO,SAAS,CAAC,mBAAmB,UAAC,UAAQ,EAAQ,cACrD,cACE,SAAS,CAAC,mBAAmB,CAC7B,QAAQ,CAAEN,YAAa,CACvB,IAAI,CAAC,UAAU,CACf,IAAI,CAAC,UAAU,CACf,QAAQ,MACR,SAAS,CAAC,GAAG,CACb,SAAS,CAAC,KAAK,CACf,KAAK,CAAED,MAAM,CAACQ,QAAQ,EAAI,EAAG,EAC7B,cACF,aAAM,SAAS,CAAC,oBAAoB,UAAEN,MAAM,CAACM,QAAQ,EAAQ,GACzD,cACN,YAAK,SAAS,CAAC,sBAAsB,UAAEV,YAAY,CAAG,eAAe,CAAG,EAAE,EAAO,cACjF,eACE,SAAS,qCAA+B,CAACK,OAAO,EAAIP,SAAS,EAAI,6BAA6B,CAAG,CACjG,QAAQ,CAAE,CAACO,OAAQ,UAAC,OAEtB,EAAS,cACT,WAAG,SAAS,CAAC,aAAa,WAAC,qBACN,CAAC,GAAG,cACvB,KAAC,IAAI,EAAC,SAAS,CAAC,+BAA+B,CAAC,EAAE,CAAC,SAAS,UAAC,cAE7D,EAAO,GACL,GACK,EACN,GACC,CAEd,CAEA,cAAeR,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}