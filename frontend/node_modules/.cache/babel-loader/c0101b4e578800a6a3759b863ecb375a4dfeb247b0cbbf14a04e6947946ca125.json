{"ast":null,"code":"import _slicedToArray from\"/Users/ilyanovik/Documents/Projects/movies-explorer-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import FilterCheckbox from'../FilterCheckbox/FilterCheckbox';import'./SearchForm.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SearchForm(_ref){var onSearchMovies=_ref.onSearchMovies,isShortMovies=_ref.isShortMovies,onFilter=_ref.onFilter,isSavedFilms=_ref.isSavedFilms,query=_ref.query,setQuery=_ref.setQuery;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isQueryEmpty=_React$useState2[0],setIsQueryEmpty=_React$useState2[1];function handleChangeQuery(e){onSearchMovies(e.target.value);// setIsQueryEmpty(false);\n// setQuery(e.target.value);\n// if (isSavedFilms) {\n//   onSearchMovies(e.target.value);\n// }\n// if (query.trim().length === 0) {\n//   setIsQueryEmpty(true);\n//   if (isShortMovies) {\n//     onSearchMovies(e.target.value);\n//   }\n// } else {\n//   setIsQueryEmpty(false);\n//   onSearchMovies(e.target.value);\n// }\n}function handleSubmit(e){e.preventDefault();if(isSavedFilms){onSearchMovies(query);}if(query.trim().length===0){setIsQueryEmpty(true);if(isShortMovies){onSearchMovies(query);}}else{setIsQueryEmpty(false);onSearchMovies(query);}}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{className:\"search-form\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"search-form__form\",onSubmit:handleSubmit,noValidate:true,children:[/*#__PURE__*/_jsx(\"input\",{className:\"search-form__input \".concat(isQueryEmpty&&!isSavedFilms&&!isShortMovies?'search-form__input-error':''),onChange:handleChangeQuery,value:query,type:\"text\",placeholder:isQueryEmpty&&!isShortMovies&&!isSavedFilms?'Enter keyword':'Film',required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"button search-form__button\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search-form__separator\"}),/*#__PURE__*/_jsx(FilterCheckbox,{isShortMovies:isShortMovies,onFilter:onFilter})]})})});}export default SearchForm;","map":{"version":3,"names":["React","FilterCheckbox","SearchForm","onSearchMovies","isShortMovies","onFilter","isSavedFilms","query","setQuery","useState","isQueryEmpty","setIsQueryEmpty","handleChangeQuery","e","target","value","handleSubmit","preventDefault","trim","length"],"sources":["/Users/ilyanovik/Documents/Projects/movies-explorer-api-full/frontend/src/components/SearchForm/SearchForm.js"],"sourcesContent":["import React from 'react';\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\nimport './SearchForm.scss';\n\nfunction SearchForm({ onSearchMovies, isShortMovies, onFilter, isSavedFilms, query, setQuery }) {\n  const [isQueryEmpty, setIsQueryEmpty] = React.useState(false);\n  function handleChangeQuery(e) {\n    onSearchMovies(e.target.value);\n    // setIsQueryEmpty(false);\n    // setQuery(e.target.value);\n    // if (isSavedFilms) {\n    //   onSearchMovies(e.target.value);\n    // }\n    // if (query.trim().length === 0) {\n    //   setIsQueryEmpty(true);\n    //   if (isShortMovies) {\n    //     onSearchMovies(e.target.value);\n    //   }\n    // } else {\n    //   setIsQueryEmpty(false);\n    //   onSearchMovies(e.target.value);\n    // }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (isSavedFilms) {\n      onSearchMovies(query);\n    }\n    if (query.trim().length === 0) {\n      setIsQueryEmpty(true);\n      if (isShortMovies) {\n        onSearchMovies(query);\n      }\n    } else {\n      setIsQueryEmpty(false);\n      onSearchMovies(query);\n    }\n  }\n\n  return (\n    <>\n      <section className=\"search-form\">\n        <form className=\"search-form__form\" onSubmit={handleSubmit} noValidate>\n          <input\n            className={`search-form__input ${\n              isQueryEmpty && !isSavedFilms && !isShortMovies ? 'search-form__input-error' : ''\n            }`}\n            onChange={handleChangeQuery}\n            value={query}\n            type=\"text\"\n            placeholder={isQueryEmpty && !isShortMovies && !isSavedFilms ? 'Enter keyword' : 'Film'}\n            required\n          />\n          <button className=\"button search-form__button\"></button>\n          <div className=\"search-form__separator\"></div>\n          <FilterCheckbox isShortMovies={isShortMovies} onFilter={onFilter} />\n        </form>\n      </section>\n    </>\n  );\n}\n\nexport default SearchForm;\n"],"mappings":"2JAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,eAAc,KAAM,kCAAkC,CAC7D,MAAO,mBAAmB,CAAC,6IAE3B,QAASC,WAAU,MAA6E,IAA1EC,eAAc,MAAdA,cAAc,CAAEC,aAAa,MAAbA,aAAa,CAAEC,QAAQ,MAARA,QAAQ,CAAEC,YAAY,MAAZA,YAAY,CAAEC,KAAK,MAALA,KAAK,CAAEC,QAAQ,MAARA,QAAQ,CAC1F,oBAAwCR,KAAK,CAACS,QAAQ,CAAC,KAAK,CAAC,oDAAtDC,YAAY,qBAAEC,eAAe,qBACpC,QAASC,kBAAiB,CAACC,CAAC,CAAE,CAC5BV,cAAc,CAACU,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF,CAEA,QAASC,aAAY,CAACH,CAAC,CAAE,CACvBA,CAAC,CAACI,cAAc,EAAE,CAClB,GAAIX,YAAY,CAAE,CAChBH,cAAc,CAACI,KAAK,CAAC,CACvB,CACA,GAAIA,KAAK,CAACW,IAAI,EAAE,CAACC,MAAM,GAAK,CAAC,CAAE,CAC7BR,eAAe,CAAC,IAAI,CAAC,CACrB,GAAIP,aAAa,CAAE,CACjBD,cAAc,CAACI,KAAK,CAAC,CACvB,CACF,CAAC,IAAM,CACLI,eAAe,CAAC,KAAK,CAAC,CACtBR,cAAc,CAACI,KAAK,CAAC,CACvB,CACF,CAEA,mBACE,sCACE,gBAAS,SAAS,CAAC,aAAa,uBAC9B,cAAM,SAAS,CAAC,mBAAmB,CAAC,QAAQ,CAAES,YAAa,CAAC,UAAU,6BACpE,cACE,SAAS,8BACPN,YAAY,EAAI,CAACJ,YAAY,EAAI,CAACF,aAAa,CAAG,0BAA0B,CAAG,EAAE,CAChF,CACH,QAAQ,CAAEQ,iBAAkB,CAC5B,KAAK,CAAEL,KAAM,CACb,IAAI,CAAC,MAAM,CACX,WAAW,CAAEG,YAAY,EAAI,CAACN,aAAa,EAAI,CAACE,YAAY,CAAG,eAAe,CAAG,MAAO,CACxF,QAAQ,OACR,cACF,eAAQ,SAAS,CAAC,4BAA4B,EAAU,cACxD,YAAK,SAAS,CAAC,wBAAwB,EAAO,cAC9C,KAAC,cAAc,EAAC,aAAa,CAAEF,aAAc,CAAC,QAAQ,CAAEC,QAAS,EAAG,GAC/D,EACC,EACT,CAEP,CAEA,cAAeH,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}