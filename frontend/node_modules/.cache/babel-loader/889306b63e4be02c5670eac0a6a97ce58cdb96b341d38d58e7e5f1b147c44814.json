{"ast":null,"code":"import React from'react';import'./Register.scss';import logo from'../../images/logo.svg';import{Link}from'react-router-dom';import{useFormWithValidation}from'../../utils/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(_ref){var isLoading=_ref.isLoading,onRegister=_ref.onRegister,isRequestErr=_ref.isRequestErr,setIsRequestErr=_ref.setIsRequestErr;var _useFormWithValidatio=useFormWithValidation(),values=_useFormWithValidatio.values,handleChange=_useFormWithValidatio.handleChange,errors=_useFormWithValidatio.errors,isValid=_useFormWithValidatio.isValid;function handleSubmit(e){e.preventDefault();setIsRequestErr(false);onRegister({name:values.name,email:values.email,password:values.password});}return/*#__PURE__*/_jsxs(\"section\",{className:\"register\",children:[/*#__PURE__*/_jsx(Link,{className:\"register__logo-link\",to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{className:\"register__logo\",src:logo,alt:\"Logo\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"register__title\",children:\"Welcome!\"}),/*#__PURE__*/_jsx(\"form\",{className:\"register__form\",onSubmit:handleSubmit,noValidate:true,children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"register__form-fieldset\",disabled:isLoading,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"register__form-item\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"register__form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"register__form-input\",type:\"text\",name:\"name\",onChange:handleChange,required:true,minLength:\"2\",maxLength:\"30\",pattern:\"^[a-zA-Z]+$\",value:values.name||''}),/*#__PURE__*/_jsx(\"span\",{className:\"register__input-error\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"register__form-item\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"register__form-label\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{className:\"register__form-input\",type:\"email\",name:\"email\",onChange:handleChange,required:true,minLength:\"4\",maxLength:\"320\",pattern:\"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\",value:values.email||''}),/*#__PURE__*/_jsx(\"span\",{className:\"register__input-error\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"register__form-item\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"register__form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"register__form-input\",onChange:handleChange,type:\"password\",name:\"password\",required:true,minLength:\"2\",maxLength:\"320\",value:values.password||''}),/*#__PURE__*/_jsx(\"span\",{className:\"register__input-error\",children:errors.password})]}),/*#__PURE__*/_jsx(\"div\",{className:\"register__request-error\",children:isRequestErr?'Request error or user already exists':''}),/*#__PURE__*/_jsx(\"button\",{className:\"button register__form-button \".concat(!isValid||isLoading&&'register__form-button_disabled'),disabled:!isValid,children:\"Register\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"register__text\",children:[\"Already registered?\",' ',/*#__PURE__*/_jsx(Link,{className:\"link register__registration-link\",to:\"/signin\",children:\"Login\"})]})]})})]});}export default Register;","map":{"version":3,"names":["React","logo","Link","useFormWithValidation","Register","isLoading","onRegister","isRequestErr","setIsRequestErr","values","handleChange","errors","isValid","handleSubmit","e","preventDefault","name","email","password"],"sources":["/Users/ilyanovik/Documents/Projects/movies-explorer-api-full/frontend/src/components/Register/Register.js"],"sourcesContent":["import React from 'react';\nimport './Register.scss';\nimport logo from '../../images/logo.svg';\nimport { Link } from 'react-router-dom';\nimport { useFormWithValidation } from '../../utils/utils';\n\nfunction Register({ isLoading, onRegister, isRequestErr, setIsRequestErr }) {\n  const { values, handleChange, errors, isValid } = useFormWithValidation();\n  function handleSubmit(e) {\n    e.preventDefault();\n    setIsRequestErr(false);\n    onRegister({\n      name: values.name,\n      email: values.email,\n      password: values.password,\n    });\n  }\n\n  return (\n    <section className=\"register\">\n      <Link className=\"register__logo-link\" to=\"/\">\n        <img className=\"register__logo\" src={logo} alt=\"Logo\" />\n      </Link>\n      <h2 className=\"register__title\">Welcome!</h2>\n      <form className=\"register__form\" onSubmit={handleSubmit} noValidate>\n        <fieldset className=\"register__form-fieldset\" disabled={isLoading}>\n          <div className=\"register__form-item\">\n            <label className=\"register__form-label\">Name</label>\n            <input\n              className=\"register__form-input\"\n              type=\"text\"\n              name=\"name\"\n              onChange={handleChange}\n              required\n              minLength=\"2\"\n              maxLength=\"30\"\n              pattern=\"^[a-zA-Z]+$\"\n              value={values.name || ''}\n            />\n            <span className=\"register__input-error\">{errors.name}</span>\n          </div>\n          <div className=\"register__form-item\">\n            <label className=\"register__form-label\">E-mail</label>\n            <input\n              className=\"register__form-input\"\n              type=\"email\"\n              name=\"email\"\n              onChange={handleChange}\n              required\n              minLength=\"4\"\n              maxLength=\"320\"\n              pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\"\n              value={values.email || ''}\n            />\n            <span className=\"register__input-error\">{errors.email}</span>\n          </div>\n          <div className=\"register__form-item\">\n            <label className=\"register__form-label\">Password</label>\n            <input\n              className=\"register__form-input\"\n              onChange={handleChange}\n              type=\"password\"\n              name=\"password\"\n              required\n              minLength=\"2\"\n              maxLength=\"320\"\n              value={values.password || ''}\n            />\n            <span className=\"register__input-error\">{errors.password}</span>\n          </div>\n          <div className=\"register__request-error\">\n            {isRequestErr ? 'Request error or user already exists' : ''}\n          </div>\n          <button\n            className={`button register__form-button ${\n              !isValid || isLoading && 'register__form-button_disabled'\n            }`}\n            disabled={!isValid}>\n            Register\n          </button>\n          <p className=\"register__text\">\n            Already registered?{' '}\n            <Link className=\"link register__registration-link\" to=\"/signin\">\n              Login\n            </Link>\n          </p>\n        </fieldset>\n      </form>\n    </section>\n  );\n}\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}